/*
 Copyright (c) 2009-2014 Petr Vostrel (http://petr.vostrel.cz/)
 Licensed under the MIT License (LICENSE.txt).

 jQuery Reel
 http://reel360.org
 Version: 1.3.1-devel
 Updated: 2014-02-28

 Requires jQuery 1.6.2 or higher
*/
(function(k){var O=typeof define=="function"&&define.amd&&(define(["jquery"],k)||true),X=!O&&typeof module=="object"&&typeof module.exports=="object"&&(module.exports=k);!O&&!X&&k()})(function(){return jQuery.reel||function(k,O,X,s){function Bc(e){return n.instances.push(e[0])&&e}function Cc(e){return(n.instances=n.instances.not(Ca(e.attr(ka))))&&e}function Y(e){return n.instances.first().data(e)}function Dc(e){return"data:image/gif;base64,R0lGODlh"+e}function V(e){return"<"+e+"/>"}function x(e){return"."+
(e||"")}function Va(e){return e.replace(Da,n.cdn)}function Ea(e){return"url('"+$b(e)+"')"}function ac(e,j){return typeof j==tb?j[e]:j}function Fa(e,j,o){return ub(e,Ga(j,o))}function Ha(e,j){return H(e)*(j?-1:1)}function Wa(e){return e.touch||e.originalEvent.touches&&e.originalEvent.touches[0]||e}function vb(e){return e.originalEvent}function y(e){return e===s?0:typeof e==wb?e:e+"px"}function Ca(e){return"#"+e}function bc(e,j,o){for(;e.length<j;)e=o+e;return e}function xb(e){return bc(e,2,"0")}function $b(e){return encodeURI(decodeURI(e))}
function yb(e){return n.re.array.exec(e)?e.split(n.re.array):e}function Ec(e){return!e.parents(zb).length}function cc(e){return typeof e==wb?e:k.each(e,function(j,o){e[j]=o?+o:s})}function Ab(e){try{console.error("[ Reel ] "+e)}catch(j){}}function Fc(e){return O.toStaticHTML?toStaticHTML(e):e}if(k){var Z=k&&k().jquery.split(/\./);if(!Z||+(xb(Z[0])+xb(Z[1])+xb(Z[2]||""))<10602)return Ab("Too old jQuery library. Please upgrade your jQuery to version 1.6.2 or higher");var n=k.reel={version:"1.3.1-devel",
def:{frame:1,frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,wheelable:true,orientable:false,cw:false,revolution:s,stitched:0,directional:false,row:1,rows:0,rowlock:false,framelock:false,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:"-reel",image:s,images:"",path:"",preload:"fidelity",shy:false,speed:0,delay:0,timeout:2,duration:s,rebound:0.5,entry:s,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:s,
hint:"",indicator:0,klass:"",preloader:2,area:s,attr:{},annotations:s,responsive:false,graph:s,monitor:s},scan:function(){return k(x(z)+":not("+x(Bb)+" > "+x(z)+")").each(function(e,j){e=k(j);j=e.data();j.images=yb(j.images);var o={};k(x(dc)+"[data-for="+e.attr(ka)+"]").each(function(t,r){t=k(r);r=t.data();r.x=cc(yb(r.x));r.y=cc(yb(r.y));var g=t.attr(ka);r.node=t.removeData();o[g]=r});j.annotations=o;e.removeData().reel(j)})},fn:{reel:function(){var e=arguments,j=k(this),o=j.data(),t=e[0]||{},r=e[1];
if(typeof t!="object")if(t.slice(0,1)==":")return j.trigger(t.slice(1),r);else if(e.length==1)return o[t];else{if(r!==s){n.normal[t]&&(r=n.normal[t](r,o));if(o[t]===s)o[t]=r;else if(o[t]!==r)j.trigger(t+"Change",[s,o[t]=r])}return j}else{var g=k.extend({},n.def,t),L=[];j.filter(Xa).unreel().filter(function(){var h=k(this),f=g.attr,a=f.src||h.attr(ra),I=f.width||h.attr(M)||h.width();h=f.height||h.attr(E)||h.height();if(!a)return Ab("`src` attribute missing on target image");if(!I||!h)return Ab("Dimension(s) of the target image unknown");
return true}).each(function(){var h=k(this),f=function(c,d){return h.reel(c,d)&&a(c)},a=function(c){return h.data(c)},I={setup:function(){if(!(h.hasClass(z)&&h.parent().hasClass(Bb))){f(Ia,g);var c={src:h.attr(ra),width:h.attr(E)||null,height:h.attr(M)||null,style:h.attr($)||null,"class":h.attr(ec)||null},d=h.attr(g.attr).attr(ra),b=f(ka,h.attr(ka)||h.attr(ka,z+"-"+ +new Date).attr(ka)),i=k.extend({},h.data()),p=f(aa,g.images||[]),m=f(W,g.stitched),l=!p.length||m;l=f(Ya,g.responsive&&(Gc?true:!l));
var q=f(fc,{}),D=g.loops,v=g.orbital,u=g.revolution,ba=g.rows,ca=f(sa,Ga(g.footage,g.frames));f(Za,g.spacing);var Cb=f(E,+h.attr(E)||h.width()),Db=f(M,+h.attr(M)||h.height()),Hc=f(Ja,g.shy),gc=f(P,v&&ca||ba<=1&&p.length||g.frames),Ic=ba>1||v;f(Ka,ac("x",u)||m/2||Cb*2);f(Eb,!Ic?0:ac("y",u)||(ba>3?Db:Db/(5-ba)));ba=m?1:la(gc/ca);f(Fb,m-(D?0:Cb));f($a,0);b=Ca(b+g.suffix);u=h.attr(ec);u=!u?Q:u+A;u=k(V(ta),{id:b.substr(1),"class":u+A+Bb+A+hc+"0"});u=h.wrap(u.addClass(g.klass)).addClass(z);L.push(Bc(u)[0]);
u=u.parent().bind(I.instance);f(Gb,p.length?Q:g.image||d.replace(n.re.image,"$1"+g.suffix+".$2"));f(ab,k(V(ta),{"class":Hb}).appendTo("body"));f(La,k());f(ic,[]);f(J,null);f(B,null);f(R,g.row);f(ua,0);f(Ib,ba);f(jc,g.rowlock);f(kc,g.framelock);f(bb,f(Ma,f(cb,0)));f(db,1/(gc-+!D));f(lc,b);f(va,g.speed);f(K,false);f(Na,false);f(ma,0);f(wa,g.vertical);f(da,0);f(xa,Ha(1,!g.cw&&!m));f(eb,{});f(ea,false);f(fb,f(Jb,0));f(gb,f(hb,0));f(Oa,false);f(Kb,false);f(fa,false);f(mc,g.brake);f(Lb,!!v);f(ga,g.tempo/
(n.lazy?g.laziness:1));f(ya,-1);f(ib,-1);f(Pa,g.annotations||u.unbind(x(Pa))&&{});f(Mb,1);f(nc,{attr:c,data:i});g.steppable||u.unbind("up.steppable");g.indicator||u.unbind(".indicator");C(Q,{overflow:Nb,position:"relative"});l||C(Q,{width:Cb,height:Db});l&&k.each(Jc,function(dd,oc){q[oc]=a(oc)});C(na+A+x(z),{display:Ob});C(x(Hb),{position:"fixed",left:y(-100),top:y(-100)},true);C(x(Hb)+A+Xa,{position:Qa,width:10,height:10},true);ha.bind(I.pool);h.trigger(Hc?"prepare":"setup")}},instance:{teardown:function(){var c=
h.data(nc);h.parent().unbind(I.instance);if(a(Ja))h.parent().unbind(jb,ia);else a($).remove()&&a(La).unbind(F);a(ab).empty();clearTimeout(Pb);clearTimeout(Qb);k(O).unbind(pc,qc);k(O).unbind(F);ha.unbind(I.pool);oa.unbind(ja);h.siblings().unbind(F).remove();kb();h.removeAttr("onloaded");Cc(h.unbind(F).removeData().unwrap().attr(c.attr).data(c.data));h.attr($)==Q&&h.removeAttr($)},setup:function(){function c(q){return h.trigger("down",[Wa(q).clientX,Wa(q).clientY,q])&&q.give}function d(q,D){return!D||
h.trigger("wheel",[D,q])&&q.give}var b=h.parent().append(za()),i=f(La,k(g.area||b)),p=g.rows>1,m=g.cursor,l=m==rc?Kc:m||Lc;m=m==rc?Mc+A+"!important":s;C(A+x(z),{MozUserSelect:lb,WebkitUserSelect:lb,MozTransform:"translateZ(0)"});h.unbind(jb,ia);i.bind(Nc,c).bind(g.clickfree?Oc:Pc,c).bind(g.wheelable?Qc:null,d).bind(Rc,function(){return false});C(Q,{cursor:Va(l)});C(x(Rb),{cursor:"wait"});C(x(mb)+na+x(mb)+" *",{cursor:Va(m||l)},true);if(a(Ya)){C(A+x(z),{width:"100%",height:Sb});k(O).bind(pc,qc)}g.hint&&
i.attr("title",g.hint);g.indicator&&b.append(Ra("x"));p&&g.indicator&&b.append(Ra("y"));g.monitor&&b.append(sc=k(V(ta),{"class":tc}))&&C(A+x(tc),{position:Qa,left:0,top:0})},preload:function(){function c(){var q=l.children(':not([src]),[src=""]').first();return q.attr(ra,q.data(ra))}var d=h.parent(),b=a(aa),i=!b.length,p=n.preload[g.preload]||n.preload[n.def.preload];b=i?[a(Gb)]:p(b.slice(0),g,a);f(da,i?0.5:0);var m=0,l=a(ab).empty();i=[];d.addClass(Rb);f($,a($)||k(Fc("<"+$+' type="text/css">'+C.rules.join("\n")+
"</"+$+">")).prependTo(Tb));f(Na,true);h.trigger("stop");g.responsive&&Ub();for(h.trigger("resize",true);b.length;){p=n.substitute(g.path+b.shift(),a);k(V(Xa)).data(ra,p).appendTo(l).bind("load error abort",function(q){q.type!="load"&&h.trigger(q.type);return!Ec(d)&&h.trigger("preloaded")&&c()&&false});i.push(p)}setTimeout(function(){for(;++m<n.concurrent_requests;)c()},0);f(ic,i);f(Ja,false)},preloaded:function(){var c=a(aa).length||1,d=f(da,Ga(a(da)+1,c));d===1&&h.trigger("frameChange",[s,a(J)]);
if(d===c){h.parent().removeClass(Rb);h.trigger("loaded")}},loaded:function(){a(aa).length>1||h.css({backgroundImage:Ea(n.substitute(g.path+a(Gb),a))}).attr({src:Va(uc)});a(W)&&h.attr({src:Va(uc)});a(Kb)||f(ma,g.velocity||0);f(Na,false);pa=true},prepare:function(){h.css("display",Ob).parent().one(jb,ia)},opening:function(){if(!g.opening)return h.trigger("openingDone");f(fa,true);f(Vb,!a(va));var c=g.entry||g.speed,d=a(B),b=g.opening;f(B,d-c*b);f(ya,la(b*Y(ga)))},openingDone:function(){function c(b){return h.trigger("orient",
[vb(b).alpha,vb(b).beta,vb(b).gamma,b])&&b.give}f(Sa,false);f(fa,false);var d=nb+x(fa);ha.unbind(d,I.pool[d]);g.orientable&&k(O).bind(Sc,c);if(g.delay>0)Pb=setTimeout(function(){h.trigger("play")},g.delay*1E3);else h.trigger("play")},play:function(c,d){d=d?f(va,d):a(va)*Ha(1,a(K));(c=g.duration)&&f(ib,la(c*Y(ga)));f(K,d<0);d=f(Sa,!!d);f(Vb,!d);Aa()},reach:function(c,d,b){if(d!=a(J)){c=a(P);f(R,la(d/c));var i=f(bb,a(J));d=f(Ma,d);d=f(cb,n.math.distance(i,d,c));b=H(b||a(va))*Ha(1,d<0);h.trigger("play",
b)}},pause:function(){w()},stop:function(){var c=f(Vb,true);f(Sa,!c)},down:function(c,d,b,i){function p(l){return h.trigger("pan",[Wa(l).clientX,Wa(l).clientY,l])&&l.give}function m(l){return h.trigger("up",[l])&&l.give}if(!(!g.clickfree&&i&&i.button!==s&&i.button!=Tc))if(g.draggable){f(ea,a(J));c=g.clickfree;f(ma,0);i=c?a(La):oa;ob=pb(a(Ka),d,b);w();kb();G=0;k(zb,oa).addClass(mb);i.bind(Uc+A+Vc,p).bind(Wc+A+Xc,m).bind(c?Yc:Zc,m)}},up:function(){f(ea,false);f(Oa,false);var c=g.throwable,d=H(Ta[0]+
Ta[1])/60;N=f(ma,!c?0:c===true?d:Ga(c,d))?1:0;w();kb();k(zb,oa).removeClass(mb);(g.clickfree?a(La):oa).unbind(ja)},pan:function(c,d,b,i){if(g.draggable&&Ua){Ua=false;w();c=g.rows;var p=g.orbital,m=!a(Oa)&&c<=1&&!p&&g.scrollable,l={x:d-ob.x,y:b-ob.y},q={x:H(l.x),y:H(l.y)};if(i&&m&&q.x<q.y)return i.give=true;if(q.x>0||q.y>0){i&&(i.give=false);G=ub(q.x,q.y);ob={x:d,y:b};i=a(Ka);m=a(eb);q=a(wa);if(!a(kc)){var D=f(B,vc(q?b-m.y:d-m.x,a(fb),i,a(gb),a(hb),a(xa),q?b-m.y:d-m.x));f(Oa,a(Oa)||a(J)!=a(ea));(l=
wc(q?l.y:l.x||0))&&f(K,l<0)}if(p&&a(Lb)){f(wa,H(b-m.y)>H(d-m.x));m=pb(i,d,b)}if(c>1&&!a(jc)){c=a(Eb);p=a(Jb);l=-p*c;f(ua,n.math.envelope(b-m.y,p,c,l,l+c,-1))}!(D%1)&&!g.loops&&pb(i,d,b)}}},wheel:function(c,d,b){if(d){qb=true;c=la(qa.sqrt(H(d))/2);c=Ha(c,d>0);d=0.0833*a(Ka);pb(d);c&&f(K,c<0);f(ma,0);f(B,vc(c,a(fb),d,a(gb),a(hb),a(xa)));b&&b.preventDefault();b&&(b.give=false);w();h.trigger("up",[b])}},orient:function(c,d){if(!(!Ua||S)){xc=true;c=d/360;fraction=f(B,+(g.stitched||g.cw?1-c:c).toFixed(2));
Ua=false}},fractionChange:function(c,d,b){if(d===s){c=1+rb(b/a(db));d=g.rows>1;b=g.orbital;f(Lb,!!b&&(c<=b||c>=a(sa)-b+2));if(d)c+=(a(R)-1)*a(P);f(J,c)}},tierChange:function(c,d,b){if(d===s){c=f(R,T(Wb(b,1,g.rows)));d=a(P);b=a(J)%d||d;f(J,b+c*d-d)}},rowChange:function(c,d,b){d===s&&Xb(ua,s,b,g.rows)},frameChange:function(c,d,b){if(d===s){this.className=this.className.replace(n.re.frame_klass,hc+b);c=a(P);d=g.rows;var i=g.path,p=b%c||c,m=((b-p)/c+1-1)/(d-1),l=a(R);!d?a(ua):Xb(ua,m,l,d);var q=Xb(B,
s,p,c),D=a(sa);if(g.orbital&&a(wa)){b=g.inversed?D+1-b:b;b+=D}var v=a(W);c=a(aa);if(!c.length||v){p=a(Za);var u=a(E);m=a(M);if(v){b=f($a,T(Wb(q,0,a(Fb)))%v);d=d<=1?0:(m+p)*(d-l);b=[y(-b),y(-d)];c=c.length>1&&c[l-1];d=n.substitute(i+c,a);c&&h.css("backgroundImage").search(d)<0&&h.css({backgroundImage:Ea(d)})}else{i=g.horizontal;l=b%D-1;l=l<0?D-1:l;b=rb((b-0.1)/D);b+=d>1?0:a(K)?0:!g.directional?0:a(Ib);b=b*((i?m:u)+p);d=l*((i?u:m)+p);b=c.length?[0,0]:i?[y(-d),y(-b)]:[y(-b),y(-d)]}h.css({backgroundPosition:b.join(A)})}else{a(Ya)&&
Ub();a(da)&&h.attr({src:$b(n.substitute(i+c[b-1],a))})}}},"frameChange.reach":function(c,d,b){if(!(!a(Ma)||d!==s)){c=n.math.distance(a(bb),b,a(P));if(H(c)>=H(a(cb))){f(J,f(Ma));f(Ma,f(cb,f(bb,0)));h.trigger("stop")}}},"imageChange imagesChange":function(){h.trigger("preload")},"fractionChange.indicator":function(c,d,b){if(g.indicator&&d===s){c=g.indicator;var i=g.orbital;d=i&&a(wa)?a(M):a(E);i=i?a(sa):g.images.length||a(P);i=la(d/i);d-=i;b=T(Wb(b,0,d));b=!g.cw||a(W)?b:d-b;Ra.$x.css(a(wa)?{left:0,
top:y(b),bottom:Sb,width:c,height:i}:{bottom:0,left:y(b),top:Sb,width:i,height:c})}},"tierChange.indicator":function(c,d,b){if(g.rows>1&&g.indicator&&d===s){var i=a(M);c=g.indicator;d=la(i/g.rows);i-=d;b=T(b*i);Ra.$y.css({left:0,top:b,width:c,height:d})}},"setup.annotations":function(){var c=h.parent();k.each(a(Pa),function(d,b){var i=typeof b.node==wb?k(b.node):b.node||{};i=i.jquery?i:k(V(ta),i);i=i.attr({id:d}).addClass(dc);var p=b.image?k(V(Xa),b.image):k(),m=b.link?k(V("a"),b.link).click(function(){h.trigger("up.annotations",
{target:m})}):k();C(Ca(d),{display:lb,position:Qa},true);b.image||b.link&&i.append(m);b.link||b.image&&i.append(p);b.link&&b.image&&i.append(m.append(p));i.appendTo(c)})},"prepare.annotations":function(){k.each(a(Pa),function(c){k(Ca(c)).hide()})},"frameChange.annotations":function(c,d){if(!(!a(da)||d!==s)){var b=a(E),i=a(W),p=a($a);k.each(a(Pa),function(m,l){m=k(Ca(m));var q=l.start||1,D=l.end,v=v||a(J),u=v-1,ba=l.at?l.at[u]=="+":false;u=l.at?u:u-q+1;v=typeof l.x!=tb?l.x:l.x[u];var ca=typeof l.y!=
tb?l.y:l.y[u];l=v!==s&&ca!==s&&(l.at?ba:u>=0&&(!D||u<=D-q));if(i){q=v>i-b&&p>=0&&p<b;v=!(v<b&&p>i-b)?v:v+i;v=!q?v:v-i;v-=p}if(a(Ya)){q=a(Mb);v=v&&v*q;ca=ca&&ca*q}v={display:l?Ob:lb,left:y(v),top:y(ca)};m.css(v)})}},"up.annotations":function(c,d){if(!(G>10||qb)){c=k(d.target);(c.is("a")?c:c.parents("a")).attr("href")&&(G=10)}},"up.steppable":function(){G||qb||h.trigger(a(eb).x-h.offset().left>0.5*a(E)?"stepRight":"stepLeft")},"stepLeft stepRight":function(){w()},stepLeft:function(){f(K,false);f(B,
a(B)-a(db)*a(xa))},stepRight:function(){f(K,true);f(B,a(B)+a(db)*a(xa))},stepUp:function(){f(R,a(R)-1)},stepDown:function(){f(R,a(R)+1)},resize:function(c,d){if(!(a(Na)&&!d)){var b=a(W),i=a(Za);c=a(M);var p=!a(aa).length||b,m=g.rows||1;b=a(aa).length?!b?s:y(b)+A+y(c):b&&y(b)+A+y((c+i)*m-i)||y((a(E)+i)*a(sa)-i)+A+y((c+i)*a(Ib)*m*(g.directional?2:1)-i);h.css({height:p?y(c):null,backgroundSize:b||null});d||h.trigger("imagesChange")}},"setup.fu":function(){f(J,g.frame+(a(R)-1)*a(P));h.trigger("preload")},
"wheel.fu":function(){qb=false},"clean.fu":function(){h.trigger("teardown")},"loaded.fu":function(){h.trigger("opening")}},pool:{"tick.reel.preload":function(){if(!(!(pa||a(Na))||a(Ja))){var c=a(E),d=$c(za.$.css(E)),b=a(aa).length||1,i=T(1/b*a(da)*c);za.$.css({width:d+(i-d)/3+1});if(a(da)===b&&d>c-1){pa=false;za.$.fadeOut(300,function(){za.$.css({opacity:1,width:0})})}}},"tick.reel":function(c){if(!a(Ja)){var d=a(ma),b=Y(ga),i=g.monitor;if(!(!n.intense&&ad())){if(N){d=d-a(mc)/b*N;d=f(ma,d>0.1?d:(N=
S=0))}i&&sc.text(a(i));d&&N++;S&&S++;wc(0);Ua=true;if(S&&!d)return U(c);if(a(ea))return U(c,w());if(!(a(ya)>0)){if(!g.loops&&g.rebound){!S&&!(a(B)%1)?Yb++:(Yb=0);Yb>=g.rebound*1E3/b&&f(K,!a(K))}c=a(xa)*Ha(1,a(K));b=a(ib);d=(!a(Sa)||xc||!b?d:H(a(va))+d)/Y(ga);f(B,a(B)-d*c);b=!g.duration?b:b>0&&f(ib,b-1);!b&&a(Sa)&&h.trigger("stop")}}}},"tick.reel.opening":function(){if(a(fa)){var c=(g.entry||g.speed)/Y(ga)*(g.cw?-1:1),d=f(ya,a(ya)-1);f(B,a(B)+c);d||h.trigger("openingDone")}}}},pa=false,U=function(c,
d){return c.stopImmediatePropagation()||d},ia=function(){h.trigger("setup")},S,N=0,Aa=function(){return S=0},w=function(){clearTimeout(Pb);ha.unbind(nb+x(fa),I.pool[nb+x(fa)]);f(ya,0);f(Kb,true);return S=-g.timeout*Y(ga)},G=0,qb=false,xc=false,sc=k(),za=function(){C(A+x(yc),{position:Qa,left:0,bottom:0,height:g.preloader,overflow:Nb,backgroundColor:"#000"});return za.$=k(V(ta),{"class":yc})},Ra=function(c){C(A+x(zc)+x(c),{position:Qa,width:0,height:0,overflow:Nb,backgroundColor:"#000"});return Ra["$"+
c]=k(V(ta),{"class":zc+A+c})},C=function(c,d,b){function i(p){var m=[];k.each(p,function(l,q){m.push(l.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+y(q)+";")});return"{"+m.join(Q)+"}"}b=b?Q:a(lc);c=c.replace(/^/,b).replace(na,na+b);return C.rules.push(c+i(d))&&d},ad=function(){var c=a(M),d=a(E),b=h[0].getBoundingClientRect();return b.top<-c||b.left<-d||b.right>d+k(O).width()||b.bottom>c+k(O).height()},Yb=0,ob={x:0,y:0},wc=function(c){return Ta.push(c)&&Ta.shift()&&c},kb=function(){return Ta=[0,0]},
Ta=kb(),vc=g.graph||n.math[g.loops?"hatch":"envelope"],qc=function(){clearTimeout(Qb);Qb=setTimeout(Ub,n.resize_gauge)},Ub=function(){if(h.width()!=a(E)){var c=a(fc),d=f(Mb,h.width()/c.width);k.each(c,function(b,i){f(b,T(i*d))});h.trigger("resize")}},Pb,Qb,pb=function(c,d,b){var i=f(fb,a(B));f(Jb,a(ua));var p=g.loops;f(gb,p?0:-i*c);f(hb,p?c:c-i*c);return d!==s&&f(eb,{x:d,y:b})||s},Ua=true,Xb=function(c,d,b,i){if(i){var p=a(c)||0;b=d!==s?d:(b-1)/(i-1);b=c!=B?b:Ga(b,0.9999);return d=+H(p-b).toFixed(8)>=
+(1/(i-1)).toFixed(8)?f(c,b):d||p}},oa=ha;try{if(ha[0]!=top.document)oa=ha.add(top.document)}catch(ed){}top===self?k():function(c){k("iframe",oa.last()).each(function(){try{if(k(this).contents().find(Tb).html()==k(Tb).html())return(c=k(this))&&false}catch(d){}});return c}();C.rules=[];I.setup()});sb=sb||function h(){var f=+new Date,a=Y(ga);if(!a)return sb=null;ha.trigger(nb);n.cost=(+new Date+n.cost-f)/2;return sb=setTimeout(h,ub(4,1E3/a-n.cost))}();return k(L)}},unreel:function(){return this.trigger("teardown")}},
re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,/(webkit)\/([\d.]+)/i,/(mozilla)\/([\d.]+)/i],array:/ *, */,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,substitution:/(@([A-Z]))/g,no_match:/^(undefined|)$/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.net/",math:{envelope:function(e,j,o,t,r,g){return j+Fa(t,r,-e*g)/o},hatch:function(e,j,o,t,r,g){e=(e<t?r:0)+
e%r;e=j+-e*g/o;return e-rb(e)},interpolate:function(e,j,o){return j+e*(o-j)},distance:function(e,j,o){var t=o/2;e=j-e;return e<-t?e+o:e>t?e-o:e}},preload:{fidelity:function(e,j,o){function t(f,a,I){function pa(G){for(;!(G>=1&&G<=N);)G+=G<1?+N:-N;return h[I+G]||(h[I+G]=!!U.push(G))}if(!f.length)return[];var U=[],ia=4*a,S=j.frame,N=f.length;a=true;for(var Aa=N/ia,w=0;w<ia;w++)pa(S+T(w*Aa));for(;Aa>1;){w=0;ia=U.length;Aa/=2;for(a=!a;w<ia;w++)pa(U[w]+(a?1:-1)*T(Aa))}for(w=0;w<=N;w++)pa(w);for(w=0;w<U.length;w++)U[w]=
f[U[w]-1];return U}var r=j.orbital,g=r?2:j.rows||1,L=r?o(sa):o(P);o=(j.row-1)*L;r=[].concat(e);var h=new Array(e.length+1);e=g<2?[]:r.slice(o,o+L);return t(e,1,o).concat(t(r,g,0))},linear:function(e){return e}},substitute:function(e,j){return e.replace(n.re.substitution,function(o,t,r){return typeof n.substitutes[r]=="function"?n.substitutes[r](j):Ac[r]?j(Ac[r]):t})},substitutes:{T:function(){return+new Date}},normal:{fraction:function(e,j){if(e===null)return e;return j[Ia].loops?e-rb(e):Fa(0,1,e)},
tier:function(e){if(e===null)return e;return Fa(0,1,e)},row:function(e,j){if(e===null)return e;return T(Fa(1,j[Ia].rows,e))},frame:function(e,j){if(e===null)return e;var o=j[Ia];j=j[P]*(o.orbital?2:o.rows||1);e=T(o.loops?e%j||j:Fa(1,j,e));return e<0?e+j:e},speed:function(e,j){j[K]=e<0;return e},images:function(e,j){var o=n.re.sequence.exec(e);return!o?e:n.sequence(o,j[Ia])}},sequence:function(e,j){if(e.length<=1)return j.images;var o=[],t=j.orbital,r=e[1],g=e[2],L=e[4];L=n.re.no_match.test(L+Q)?1:
+L;var h=t?2:j.rows||1;j=t?j.footage:j.stitched?1:j.frames;h=+(e[5]||h*j)-L;e=+e[7]||1;for(j=0;j<=h;){o.push(r.replace(g,bc(L+j+Q,g.length,"0")));j+=e}return o},instances:k(),leader:Y,resize_gauge:300,concurrent_requests:4,cost:0},ha=k(X);X=navigator.userAgent;var Ba=n.re.ua[0].exec(X)||n.re.ua[1].exec(X)||n.re.ua[2].exec(X);Z=+Ba[2].split(".").slice(0,2).join(".");Ba=Ba[1]=="MSIE";var bd=!(Ba&&Z<8),Gc=!(Ba&&Z<9),sb,z="reel",Bb=z+"-overlay",Hb=z+"-cache",zc=z+"-indicator",yc=z+"-preloader",tc=z+"-monitor",
dc=z+"-annotation",mb=z+"-panning",Rb=z+"-loading",hc="frame-",qa=Math,T=qa.round,rb=qa.floor,la=qa.ceil,Ga=qa.min,ub=qa.max,H=qa.abs,$c=parseInt,Wb=n.math.interpolate,Pa="annotations",La="area",Sb="auto",nc="backup",K="backwards",db="bit",mc="brake",ab="cache",ic=ab+"d",Lb="center",ec="class",jb="click",ea=jb+"ed",eb=ea+"_location",fb=ea+"_on",Jb=ea+"_tier",xa="cwish",bb="departure",Ma="destination",cb="distance",sa="footage",B="fraction",J="frame",kc="framelock",P="frames",M="height",hb="hi",Nb=
"hidden",Gb="image",aa="images",gb="lo",Na="loading",fa="opening",ya=fa+"_ticks",Ia="options",Sa="playing",da="preloaded",Mb="ratio",Oa="reeling",Kb="reeled",Ya="responsive",Ka="revolution",Eb="revolution_y",R="row",jc="rowlock",Ib="rows",Ja="shy",Za="spacing",va="speed",ra="src",lc="stage",W="stitched",$a=W+"_shift",Fb=W+"_travel",Vb="stopped",$="style",ga="tempo",ib="ticks",ua="tier",fc="truescale",ma="velocity",wa="vertical",E="width",F=x(z),ja=x("pan")+F,Sc="deviceorientation"+F,Rc="dragstart"+
F,Pc="mousedown"+F,Oc="mouseenter"+F,Yc="mouseleave"+ja,Vc="mousemove"+ja,Zc="mouseup"+ja,Qc="mousewheel"+F,nb="tick"+F,Xc="touchcancel"+ja,Wc="touchend"+ja,Nc="touchstart"+F,Uc="touchmove"+ja,pc="resize"+F,Q="",A=" ",na=",",Qa="absolute",Ob="block",Da="@CDN@",ta="div",rc="hand",Tb="head",zb="html",ka="id",Xa="img",Zb="jquery."+z,lb="none",tb="object",wb="string",Jc=[E,M,Za,Ka,Eb,W,$a,Fb],Ac={W:E,H:M},uc=bd?Dc("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):Da+"blank.gif",Lc=Ea(Da+Zb+
".cur")+na+"move",Kc=Ea(Da+Zb+"-drag.cur")+na+"move",Mc=Ea(Da+Zb+"-drag-down.cur")+na+"move";n.lazy=n.re.lazy_agent.test(X);var Tc=Ba&&Z<9?1:0,cd=k.cleanData;k.cleanData=function(e){k(e).each(function(){k(this).triggerHandler("clean")});return cd.apply(this,arguments)};k.extend(k.fn,n.fn)&&k(n.scan);return n}}(jQuery,window,document)});
